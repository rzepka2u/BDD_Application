Préparation séance 3

Partie 1 : mesurer les performances et utiliser des index

-------écrivez le code pour mesurer le temps d'exécution d'une séquence d'instructions PHP-------------

<?php
$avant = microtime(true);
// le programme qu'on souhaite mesurer
$apres = microtime(true);
var_dump($avant-$apres);
 ?>


--------rappelez le principe d'un index sur une colonne de table : intérêt, principe de fonctionnement----------

Un index est une structure qui reprend la liste ordonnée des valeurs auxquelles il se rapporte.
Les index sont utilisés pour accélérer les requêtes (notamment les requêtes impliquant plusieurs tables, 
ou les requêtes de recherche), et sont indispensables à la création de clés, 
étrangères et primaires, qui permettent de garantir l'intégrité des données de la base 
et dont nous parlerons au chapitre suivant.

Partie 2 : observer l'orm, améiorer les performances avec des
chargements liés

--------Décrivez la structure du log de requêtes dans Eloquent.--------------

Module-> une ou plusieurs méthodes spécifiant la ou les clauses -> une méthode terminale -> optionnellement,une méthode de collection
Exemple :
Produit:: where('prix','<',10)->get()->count();


-------expliquez le problème des N+1 query------------------

N+1 query est un problème de performance ,n+1 résulte d'une augmentation incontrôlé de requêtes ce qui ralenti le programme.
En somme ,le problème de requête N + 1 se produit lorsque l'infrastructure d'accès aux données a exécuté N instructions supplémentaires 
pour récupérer les mêmes données qui auraient pu être récupérées lors de l'exécution de la requête principale. 
Plus la valeur de N est élevée,plus les requêtes seront exécutées, plus l'impact sur les performances est important.

